/**
 * ngBrowserInfo v0.1.4
 *
 * Copyright 2015 Transferwise Ltd
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 *
 * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(){"use strict";angular.module("ngBrowserInfo",[]),angular.module("ngBrowserInfo").service("browserInfo",["$window","$document",function(e,n){e.navigator||(e.navigator={userAgent:"",appVersion:""}),this.giveMeAllYouGot=function(){return{screenSize:this.getScreenSize(),windowSize:this.getWindowSize(),mobile:this.isMobile(),cookiesEnabled:this.areCookiesEnabled(),language:this.getLanguage(),os:this.getOSInfo(),browser:this.getBrowserInfo()}},this.getScreenSize=function(){return{width:screen.width,height:screen.height}},this.getWindowSize=function(){return{width:e.innerWidth,height:e.innerHeight}},this.isMobile=function(){return/Mobile|Android|iP(ad|od|hone)|Fennec|mini/.test(e.navigator.userAgent)},this.areCookiesEnabled=function(){var r=e.navigator.cookieEnabled;return"undefined"==typeof r?(n.cookie="test-cookie",-1!==n.cookie.indexOf("test-cookie")):r},this.getLanguage=function(){return e.navigator.language||e.navigator.userLanguage},this.getOSInfo=function(){var e=r();return/Windows/.test(e)?{name:"Windows",version:/Windows (.*)/.exec(e)[1]}:{name:e,version:i(e)}},this.getBrowserInfo=function(){var n,r=e.navigator.userAgent;return n=/Opera/.test(r)?g():/MSIE/.test(r)?d():/Chrome/.test(r)?c():/Safari/.test(r)?f():/Firefox/.test(r)?v():/Trident\//.test(r)?w():x(),n.version=W(n.version),n};var r=function(){for(var n in u)if(u.hasOwnProperty(n)){var r=u[n];if(r.regex.test(e.navigator.userAgent))return r.name}},i=function(e){switch(e){case"Mac OS X":return o();case"Android":return t();case"iOS":return a();case"Ubuntu":return s()}},o=function(){var n=/Mac OS X (10[\._\d]+)/.exec(e.navigator.userAgent);return n?n[1].replace(/_/g,"."):void 0},t=function(){var n=/Android ([\._\d]+)/.exec(e.navigator.userAgent);return n?n[1]:void 0},a=function(){var n=/OS (\d+)_(\d+)_?(\d+)?/.exec(e.navigator.appVersion);return n?n[1]+"."+n[2]:void 0},s=function(){var n=/Ubuntu\/([\._\d]+)/.exec(e.navigator.userAgent);return n?n[1]:void 0},u=[{name:"Windows 95",regex:/(Windows 95|Win95|Windows_95)/},{name:"Windows ME",regex:/(Win 9x 4.90|Windows ME)/},{name:"Windows 98",regex:/(Windows 98|Win98)/},{name:"Windows 2000",regex:/(Windows NT 5.0|Windows 2000)/},{name:"Windows XP",regex:/(Windows NT 5.1|Windows XP)/},{name:"Windows Server 2003",regex:/Windows NT 5.2/},{name:"Windows Vista",regex:/Windows NT 6.0/},{name:"Windows 7",regex:/(Windows 7|Windows NT 6.1)/},{name:"Windows 8.1",regex:/(Windows 8.1|Windows NT 6.3)/},{name:"Windows 8",regex:/(Windows 8|Windows NT 6.2)/},{name:"Windows NT 4.0",regex:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{name:"Windows ME",regex:/Windows ME/},{name:"Android",regex:/Android/},{name:"Open BSD",regex:/OpenBSD/},{name:"Free BSD",regex:/FreeBSD/},{name:"Sun OS",regex:/SunOS/},{name:"Ubuntu",regex:/Ubuntu/},{name:"Linux",regex:/(Linux|X11)/},{name:"iOS",regex:/(iPhone|iPad|iPod)/},{name:"Mac OS X",regex:/Mac OS X/},{name:"Mac OS",regex:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{name:"QNX",regex:/QNX/},{name:"UNIX",regex:/UNIX/},{name:"BeOS",regex:/BeOS/},{name:"OS/2",regex:/OS\/2/},{name:"Search Bot",regex:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}],g=function(){return{name:"Opera",version:-1!==e.navigator.userAgent.indexOf("Version")?m("Version",8):m("Opera",6)}},d=function(){return{name:"Microsoft Internet Explorer",version:m("MSIE",5)}},c=function(){return{name:"Chrome",version:m("Chrome",7)}},f=function(){return{name:"Safari",version:-1!==e.navigator.userAgent.indexOf("Version")?m("Version",8):m("Safari",7)}},v=function(){return{name:"Firefox",version:m("Firefox",8)}},w=function(){return{name:"Microsoft Internet Explorer",version:e.navigator.userAgent.substring(e.navigator.userAgent.indexOf("rv:")+3)}},x=function(){return{name:void 0,version:void 0}},m=function(n,r){return e.navigator.userAgent.substring(e.navigator.userAgent.indexOf(n)+r)},W=function(e){var n;return-1!==(n=e.indexOf(")"))&&(e=e.substring(0,n)),-1!==(n=e.indexOf(";"))&&(e=e.substring(0,n)),-1!==(n=e.indexOf(" "))&&(e=e.substring(0,n)),e}}])}();